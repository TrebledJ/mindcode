DEPOT = vault1
DEPOT_X = 42
DEPOT_Y = 28

PATCH_X = 18
PATCH_Y = 17

FLAG = rand(9999)

while @unit == null && @unit.flag == 0 {
    @unit = ubind(@poly)
    if @unit.flag == 0 {
        flag(FLAG)
    }
}

if @unit.itemCapacity > 0 {
    print("mining")
    mine(PATCH_X, PATCH_Y)
} else {
    print("dropping")
    itemDrop(vault1, @unit.totalItems)
}

printflush()
